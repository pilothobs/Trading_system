# Trading System Monitoring Tools

This directory contains tools for monitoring and analyzing resource usage in the trading system.

## Scripts

### resource_monitor.py

Monitors CPU and RAM usage of specified processes or all Python processes. It logs the data and provides real-time feedback to help determine if a GPU is needed.

**Usage:**
```bash
python tools/monitoring/resource_monitor.py [--python-only] [--agent-only] [--interval SECONDS] [--duration SECONDS]
```

**Options:**
- `--python-only`: Monitor only Python processes
- `--agent-only`: Monitor only trading agent processes
- `--interval`: Seconds between measurements (default: 5)
- `--duration`: Total monitoring duration in seconds (default: indefinite)

### analyze_resources.py

Analyzes the resource usage logs generated by resource_monitor.py and provides recommendations on whether a cloud GPU is needed.

**Usage:**
```bash
python tools/monitoring/analyze_resources.py [LOG_FILE] [--latest] [--output-dir DIR]
```

**Options:**
- `LOG_FILE`: Path to the log file to analyze
- `--latest`: Analyze the latest log file
- `--output-dir`: Directory to save plots and reports

### test_resource_usage.py

Runs a trading agent and monitors its resource usage to help determine if a cloud GPU is needed.

**Usage:**
```bash
python tools/monitoring/test_resource_usage.py AGENT_SCRIPT [--duration SECONDS] [--interval SECONDS]
```

**Options:**
- `AGENT_SCRIPT`: Path to the agent script to run
- `--duration`: Duration to run the test in seconds (default: 300)
- `--interval`: Interval between resource measurements in seconds (default: 5)

## Example Workflow

1. Run a test agent with resource monitoring:
```bash
python agents/test_agent.py --cpu 100 --memory 1200 --duration 60 &
python tools/monitoring/resource_monitor.py --python-only --interval 2 --duration 60
```

2. Analyze the resource usage:
```bash
python tools/monitoring/analyze_resources.py --latest
```

3. View the generated plots and summary in the logs directory. 